<div class="grid sm:grid-cols-2 md:grid-cols-5 lg:grid-cols-6 mt-14 gap-4 p-6">
<% users.forEach(user => { %>    
    <div class="bg-white p-4 rounded-xl shadow text-center">
    <img src="<%= user.avatar %>" class="sm:w-8 sm:w-8 md:w-16 md:h-16 mx-auto rounded-full" />
    <h3 class="mt-2 font-semibold md:text-base text-sm"><%= user.username %></h3>
    <button 
        class="mt-2 text-blue-600 hover:text-blue-800 text-sm"
        hx-get="/users/<%= user.id %>" 
        hx-target="#userModalContent" 
        hx-trigger="click" 
        hx-swap="innerHTML">
        👁 <span class="sm:text-sm text-[12px]"> View details</span>
    </button>
    </div>
<% }) %>
</div>

<div class="flex justify-center mt-6 space-x-2">
  <% for (let i = 1; i <= totalPages; i++) { %>
    <a href="/?page=<%= i %>" 
       class="px-4 py-2 border rounded 
              <%= currentPage === i 
                    ? 'bg-blue-600 text-white border-blue-600' 
                    : 'bg-white text-gray-700 hover:bg-gray-100 border-gray-300' %>">
      <%= i %>
    </a>
  <% } %>
</div>

<!-- Modal -->
<div id="userModal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden">
  <div class="bg-white rounded shadow p-6 max-w-sm w-full relative">
    <button onclick="document.getElementById('userModal').classList.add('hidden')" class="absolute top-2 right-2">✖</button>
    <div id="userModalContent"></div>
  </div>
</div>

<script>
  document.addEventListener("htmx:afterSwap", (e) => {
    if (e.target.id === "userModalContent") {
      document.getElementById('userModal').classList.remove('hidden');
    }
  });
</script>

<!---->
